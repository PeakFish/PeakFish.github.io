<!DOCTYPE html><html><head><meta charset="utf-8"><title>WebGL 简历</title><style>* {margin: 0;padding: 0;font-family: 'Open Sans', Arial, sans-serif;}canvas {display: block;}.control {position: absolute;top: 0;left: 50%;transform: translateX(-50%);color: white;font-size: 12px;margin: 6px 0;pointer-events: none;touch-action: none;}#desc {position: absolute;left: 0;top: 0;width: 280px;color: white;padding: 6px;pointer-events: none;touch-action: none;}#desc h3 {margin: 10px 0;font-size: 24px;}#desc p {margin-bottom: 4px;font-size: 14px;line-height: 1.6;}#desc a {color: #00BCD4;pointer-events: auto;touch-action: auto;}</style></head><body><p class="control">左键旋转、滚轮缩放、右键平移</p><div id="desc"></div><script src="//unpkg.com/three@0.75.0/three.min.js"></script><script src="//unpkg.com/three@0.75.0/examples/js/controls/OrbitControls.js"></script><script>;(function(){"use strict";var sphereData=[{name:'技能',color:0x4285F4,texture:'',level:5,position:[30,30,30],child:[{name:'javascript',level:3,desc:'<p>熟悉ECMAScript，熟悉DOM、BOM 、Ajax等的常用API。</p><p>熟悉js模块化相关库的使用。了解ES2015。</p>',position:[10,10,0]},{name:'css',level:3,desc:'<p>熟悉CSS，熟悉CSS3。</p><p>了解一点 SASS LESS 基本语法。我觉得写css挺好了。</p>',position:[-10,10,0]},{name:'html',level:3,desc:'<p>熟悉xhtml、 HTML5中标签的语义及功能。</p><p>了解html语义化及一些seo知识。</p>',position:[10,-10,0]}]},{name:'学历',color:0xEA4335,texture:'',level:2,position:[-30,30,-30],child:[{name:'大专',level:2,desc:'大专',position:[-10,10,0]}]},{name:'框架',color:0xFBBC05,texture:'',level:5,position:[-30,30,30],child:[{name:'jQuery',level:3,desc:'<p>熟悉jQuery，看过一点源码，了解jQuery整体架构和其内部一些模块的实现方式。</p>',position:[-10,-10,0]},{name:'React',level:1,desc:'<p>了解一点React</p>',position:[-10,10,0]}]},{name:'个人项目',color:0x34A853,texture:'',level:5,position:[30,30,-30],child:[{name:'博客',level:2,desc:'<p>用hexo生成的 GitHub Pages <a href="http://peakfish.github.io/">地址</a></p>',position:[10,10,0]},{name:'React 城市选择',level:2,desc:'<p>为了学学这个比较火的框架，自己写过个React的城市选择<a href="http://peakfish.github.io/React_components/city_select/">地址</a></p>',position:[10,-10,0]},{name:'前端备忘',level:2,desc:'<p>收集的比较杂的前端知识<a href="https://github.com/PeakFish/FE_memo">地址</a></p>',position:[-10,10,0]}]}];var camera,scene,renderer,animationTimer;scene=new THREE.Scene();camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2000);camera.position.set(83,50,128);camera.up=new THREE.Vector3(0,1,0);camera.lookAt(new THREE.Vector3(0,40,0));renderer=new THREE.WebGLRenderer();renderer.setPixelRatio(window.devicePixelRatio);renderer.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(renderer.domElement);var directionalLight=new THREE.DirectionalLight(0xeeeeee);directionalLight.position.set(0,100,0);directionalLight.position.normalize();scene.add(directionalLight);scene.add(new THREE.AmbientLight(0xffffff));var peakfishGeometry=new THREE.SphereGeometry(5,32,32);var peakfishMaterial=new THREE.MeshPhongMaterial({color:0xADADAD});var peakfis=new THREE.Mesh(peakfishGeometry,peakfishMaterial);peakfis.position.set(0,0,0);scene.add(peakfis);for(let i=0;i<sphereData.length;i++){let sphereG=new THREE.SphereGeometry(sphereData[i].level,32,32);let sphereM=new THREE.MeshLambertMaterial({color:sphereData[i].color,transparent:false,opacity:0.5});let sphere=new THREE.Mesh(sphereG,sphereM);sphere.position.set(sphereData[i].position[0],sphereData[i].position[1],sphereData[i].position[2]);scene.add(sphere);sphereData[i].mesh=sphere;let lineG=new THREE.Geometry();lineG.vertices.push(new THREE.Vector3(0,0,0));lineG.vertices.push(new THREE.Vector3(sphereData[i].position[0],sphereData[i].position[1],sphereData[i].position[2]));let lineM=new THREE.LineBasicMaterial({color:sphereData[i].color});let line=new THREE.Line(lineG,lineM);scene.add(line);new THREE.TextureLoader().load(text2img(sphereData[i].name,'#FFFFFF'),function(texture){texture.wrapS=THREE.RepeatWrapping;texture.wrapT=THREE.RepeatWrapping;texture.repeat.set(1,1);let w=texture.image.width/12;let h=texture.image.height/12;let planeG=new THREE.PlaneGeometry(w,h,0);let planeM=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:texture,transparent:true,opacity:1});let plane=new THREE.Mesh(planeG,planeM);plane.position.set(sphereData[i].position[0]+w/2,sphereData[i].position[1]-h/2,sphereData[i].position[2]+sphereData[i].level);scene.add(plane);render()});let child=sphereData[i].child;for(let j=0;j<child.length;j++){let sphereG=new THREE.SphereGeometry(child[j].level,32,32);let sphereM=new THREE.MeshLambertMaterial({color:sphereData[i].color});let sphere=new THREE.Mesh(sphereG,sphereM);sphere.position.set(sphereData[i].position[0]+child[j].position[0],sphereData[i].position[1]+child[j].position[1],sphereData[i].position[2]+child[j].position[2]);scene.add(sphere);sphereData[i].child[j].mesh=sphere;let lineG=new THREE.Geometry();lineG.vertices.push(new THREE.Vector3(sphereData[i].position[0],sphereData[i].position[1],sphereData[i].position[2]));lineG.vertices.push(sphere.position);let lineM=new THREE.LineBasicMaterial({color:sphereData[i].color});let line=new THREE.Line(lineG,lineM);scene.add(line);new THREE.TextureLoader().load(text2img(child[j].name,'#FFFFFF'),function(texture){texture.wrapS=THREE.RepeatWrapping;texture.wrapT=THREE.RepeatWrapping;texture.repeat.set(1,1);let w=texture.image.width/18;let h=texture.image.height/18;let planeG=new THREE.PlaneGeometry(w,h,0);let planeM=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,map:texture,transparent:true,opacity:1});let plane=new THREE.Mesh(planeG,planeM);plane.position.set(sphereData[i].position[0]+child[j].position[0]+w/2,sphereData[i].position[1]+child[j].position[1]-h/2,sphereData[i].position[2]+child[j].position[2]+child[j].level);scene.add(plane);render()})}}var raycaster=new THREE.Raycaster();var mouse=new THREE.Vector2();var frontOne=null;function onMouseMove(e){mouse.x=(e.clientX/window.innerWidth)*2-1;mouse.y=-(e.clientY/window.innerHeight)*2+1;picking()}function picking(){raycaster.setFromCamera(mouse,camera);let result=[];if(frontOne){if(frontOne.object.child){frontOne.object.mesh.material.color.set(frontOne.object.color);for(let j=0;j<frontOne.object.child.length;j++){frontOne.object.child[j].mesh.material.color.set(frontOne.object.color)}}else{frontOne.object.mesh.material.color.set(frontOne.parent.color)}}for(let i=0;i<sphereData.length;i++){let child=sphereData[i].child;let parentIntersects=raycaster.intersectObject(sphereData[i].mesh);if(parentIntersects.length>0){result.push({distance:parentIntersects[0].distance,object:sphereData[i]})}for(let j=0;j<child.length;j++){let childIntersects=raycaster.intersectObject(child[j].mesh);if(childIntersects.length>0){result.push({distance:childIntersects[0].distance,object:child[j],parent:sphereData[i]})}}}if(result.length>0){frontOne=result[0];for(let i=0;i<result.length;i++){if(frontOne.distance>result[i].distance){frontOne=result[i]}}if(frontOne.object.child){let hsl=(new THREE.Color(frontOne.object.color)).getHSL();frontOne.object.mesh.material.color.setHSL(hsl.h,hsl.s,hsl.l*.6);for(let j=0;j<frontOne.object.child.length;j++){frontOne.object.child[j].mesh.material.color.setHSL(hsl.h,hsl.s,hsl.l*.6)}}else{let hsl=(new THREE.Color(frontOne.parent.color)).getHSL();frontOne.object.mesh.material.color.setHSL(hsl.h,hsl.s,hsl.l*.6);showDesc(frontOne.object)}}render()}window.addEventListener('mousemove',onMouseMove,false);var orbitControls=new THREE.OrbitControls(camera);orbitControls.target.set(0,40,0);orbitControls.update();orbitControls.addEventListener('change',render);render();window.addEventListener('resize',onWindowResize,false);function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight);render()}function render(){renderer.render(scene,camera)}function animate(){animationTimer=requestAnimationFrame(animate);var timer=Date.now()*0.0005;orbitControls.update();render()}var descEle=document.querySelector('#desc');function showDesc(obj){var html='';if(!obj){html=''}else{html='<h3>'+obj.name+'</h3>'+obj.desc}descEle.innerHTML=html}function text2img(text,color){var canvas=document.createElement('canvas');var context2d=canvas.getContext('2d');setFontStyle();var textMetrics=context2d.measureText(text);canvas.width=textMetrics.width;canvas.height=48;setFontStyle();context2d.fillText(text,0,0);var dataURL=canvas.toDataURL();function setFontStyle(){context2d.fillStyle=color;context2d.direction="ltr";context2d.textAlign="left";context2d.textBaseline="top";context2d.font="bold 48px arial,sans-serif";}return dataURL}})();</script></body></html>